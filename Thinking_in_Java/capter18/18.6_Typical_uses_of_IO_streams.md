# 18.6 I/O流的典型使用方式
尽管可以通过不同的方式组合I/O流类，但我们可能也就只用到其中的几种组合。下面的示例可以作为典型的I/O用法的基本参考。在这些示例中，
异常处理都被简化为传递给控制台，但是这只有在小型示例和工具中才适用。在实际编程中，你需要考虑更加复杂的错误处理方式。

## 缓冲输入文件
如果想要打开一个文件用于字符输入（读取字符），可以使用以String或File对象作为文件名称的FileInputReader。为了提高速度，
我们可以对那个文件进行缓冲，因此可以将产生的引用传递给一个BufferedReader构造器。我们可以调用BufferedReader中的readLine()方法，
因此这是我们直接进行读取的对象。当readLine()返回null时，就达到了文件末尾。
```java
package io;
import java.io.*;

public class BufferedInputFile {
    public static String read(String filename) throws IOException {
    	// 创建一个BufferReader实例
    	BufferedReader in = new BufferedReader(new FileReader(filename));
    	StringBuilder sb = new StringBuffer();
    	String s;
    	// 逐行读取字符
    	while((s = in.readLine()) != null)
    		sb.append(s + "\n");
    	in.close();
    	return sb.toString();
    }
	public static void main(String[] args) throws IOException {
        System.out.println(read("./src/io/BufferedInputFile.java"));
	}

}/* (Execute to see output) *///
```
StringBuilder用来积累文件的全部内容，包括被readLine()删除的换行符。最后，调用close()关闭文件。

**练习7：（2）打开一个文本文件，每次读取一行内容。将每行作为一个String读入，并将那个String对象置入一个LinkedList中。**
**按相反的顺序打印出LinkedList中的所有行。**

**答案请戳:point_right:[这里](Ex07.md)**

**练习6：（1）修改练习7，使要读取的文件的名字以命令行参数的形式来提供。**

**答案请戳:point_right:[这里](Ex08.md)**

**练习9：（1）修改练习8，强制ArrayList中的所有行都变成大写形式，并将结果发给System.out。**

**答案请戳:point_right:[这里](Ex09.md)**

**练习10：（2）修改练习8，令它接受附加的命令行参数，用来表示要在文件中查找的单词。打印出包含了欲查找单词的所有文本行。**

**答案请戳:point_right:[这里](Ex10.md)**

**练习11：（2）在innerclasses/GreenhouseController.java示例中，GreenhouseController包含一个硬编码的事件集。修改该程序，**
**使其从一个文本文件中读取事件和与它们相关联的次数[（不同的难度系数级别8）：使用工厂设计模式来构建事件———请查看**
**www.Mindveiw.net上的《Thinking in Patterns(with Java)》]**

**答案请戳:point_right:[这里](Ex11.md)**

## 从内存输入
在下面的示例中，BufferedInputFile.read()方法读入内存的String结果被用来创建一个StringReader。然后调用其read()方法每次从内存中读取一个字符，并把它发送到控制台。
```java
package io;
import java.io.*;

public class MemoryInput {

	public static void main(String[] args) throws Exception {
        StringReader in = new StringReader(BufferedInputFile.read("./src/io/MemoryInput.java"));
        int c;
        while((c = in.read()) != -1)
        	System.out.print((char)c);
	}

}/* (Execute to see output) *///
```
注意read()是以int形式返回下一字符的，因此必须转换成char类型才能正确打印。
