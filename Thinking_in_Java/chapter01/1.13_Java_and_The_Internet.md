# Java与Internet

如果Java仅仅只是众多程序设计语言中的一种，你可能会问：为什么它如此重要？为什么它促使计算机编程语言向前迈进了革命性的一步？如果从传统的程序设计观点来看，
答案似乎不太明显。尽管Java对于解决传统的单机程序设计问题非常有用，但同样重要的是，它解决了在万维网（WWW）上的程序设计问题。

### （一）Web是什么
Web一词乍一看有点神秘，回头审视它的真是面貌，就必须先理解**客户/服务器系统**，它是计算技术中另一个充满了诸多疑惑的话题。

#### 1. 客户/服务器计算技术  

客户/服务器系统的核心思想是：系统具有一个中央信息存储池（central repository of information），用来存储某种数据，它通常存在于数据库中，
你可以根据需要将它分发给某些人员或机器集群，其关键在于信息存储池集中于中央，这使得它可以被修改，并且这些修改将被传播给信息消费者。
总之，信息存储池、用于分发信息的软件以及信息与软件所驻留的机器或机群被总称为服务器。
驻留在用户机器上的软件与服务器进行通信，以获取信息、处理信息，然后将它们显示在被称为客户机的用户机器上。
  
客户/服务器计算技术的基本概念并不复杂。问题在于你只有一个服务器，却要同时为多个客户服务。通常，这会涉及数据库管理系统，因此设计者把数据“均衡”分布于数据表中，
以取得最优的使用效果。此外，必须保证一个客户插入的新数据不会覆盖另一个客户插入的新数据，也不会在将其添加到数据库的过程中丢失（这被称为**事务处理**）。
如果客户端软件发生变化，它就必须要重新编译、调试并安装到客户端机器上，事实证明这比想象的要更加复杂与费力。如果想支持多种不同类型的计算机和操作系统，
问题将更麻烦。最后还有一个最重要的性能问题：可能在任意时刻都有成百上千的客户向服务器发出请求，所以任何小的延迟都会产生重大影响。为了将延迟最小化，
程序员努力减轻处理任务的负载，通常是分散给客户端机器处理，但有时也会使用所谓的**中间件**将负载分散给在服务器端的其他机器（中间件也被用来提高可维护性）。

分发信息这个简单的思想的复杂性实际上有很多不同的层次，这使得整个问题看起来高深莫测。但是它仍是至关重要的：算起来该技术大概占了所有程序设计行为的一半，
从制定订单、信用卡交易到包括股票市场、科学计算、政府、个人在内的多种类型的数据分发。在这种模式下，过去我们都是针对某个问题发明一个单独的解决方案，
因此每一次都要发明一个新的方案，这些方案难以开发和使用，而且用户对每个方案都要学习新的接口。因此，这个客户/服务器问题需要彻底解决。

#### 2. Web就是一台巨型服务器
Web实际上就是一个巨型客户/服务器系统，但稍微差一点，因为所有的服务器和客户机都同时共存与同一个网络中。你所要关心的只是在某一时刻怎样连接到一台服务器上，
并与之进行交互。

最初只有一种很简单的单向过程：你对某个服务器产生一个请求，然后它返回给你一个文件。但是很快人们就希望能够做得更多，而不仅仅是从服务器传递回页面。
人们希望实现完整的客户/服务器能力，使得客户可以将信息反馈给服务器。

Web浏览器向前跨进了一大步，它包含了这样的概念：一段信息不经修改就可以在任意型号的计算机上显示。然而，最初的浏览器仍然相当原始，
很快就因为加诸于其上的种种需要而陷入困境。浏览器并不具备显著的交互性，而且它趋向于使服务器和Internet阻塞，因为在任何时候，
只要你需要完成通过编程来实现的任务，就必须将信息发回到服务器去处理。因为浏览器只是一个观察器，因此它甚至不能执行最简单的计算任务
（另一方面，它却是安全的，因为它在你的本地机器上不会执行任何程序，而这些程序有可能包含bug和病毒）。

为了解决这个问题，人们采用了各种不同的方法。首先，图形标准得到了增强，使得浏览器中可以播放质量更好的动画和视频。剩下的问题通过引入在客户端浏览器中运行程序的能力就可以解决。这被称为“客户端编程”。

### （二）客户端编程
Web最初的“服务器-浏览器”设计是为了能够提供交互性的内容，但是其交互性完全由服务器提供。服务器产生静态页面，提供给只能解释并显示它们的客户端浏览器。
基本的HTML（HyperTest Markup Language，超文本标记语言）包含有简单的数据收集机制：文本输入框、复选框、单选框、列表和下拉式列表以及按钮——
它只能被编程来实现复位表单上的数据或提交表单上的数据给服务器。这种提交动作通过所有的Web服务器都提供的***通用网关接口***
（common gateway interface, CGI）传递。提交内容会告诉CGI应该如何处理它。

当今许多有影响力的网站都是完全构建于CGI之上的，实际上你几乎可以通过CGI做任何事。然而，构建于CGI程序之上的网站可能会迅速变得过于复杂而难以维护，
并同时产生响应时间过长的问题。CGI程序的响应时间依赖于所必须发送的数据量的大小，以及服务器和Internet的负载（此外，启动CGI程序也相当慢）。
Web的最初设计者们并没有预见到网络带宽会被人们开发的各种应用迅速消耗。

**问题的解决方法就是客户端编程。** 大多数运行Web浏览器的机器都是能够执行大型任务的强有力的引擎。在使用原始的静态HTML方式时，它们只是闲在那里，
等着服务器送来下一个页面。客户端编程意味着可以用Web浏览器来执行任何它可以完成的工作，使得返回给用户的结果更加迅捷，而且使得你的网站更具有交互性。

### （三）服务器端编程
服务器端编程是Java已经取得巨大成功的因素之一。当提出对服务器的请求后，大部分时间，请求只是要求“给我发送一个文件”，之后浏览器会以某种适当的形式解释这个文件，例如将其作为HTML页面、图片、Java applet或脚本程序等来解释。

更复杂的对服务器的请求通常涉及数据库事务。这些数据库请求必须通过服务器端的某些代码来处理，这就是所谓的服务器端编程。
过去，服务器端编程都是通过使用Perl、Python、C++或其他某种语言编写CGI程序而实现的，但是却造成了从此以后更加复杂的系统。其中就包括基于Java的Web服务器，它让你用Java编写被称为servlet的程序来实现服务器端编程。servlet及其衍生物JSP，是许多开发网站的公司迁移到Java上的两个主要的原因，
尤其是因为它们消除了处理具有不同能力的浏览器是所遇到的问题。

---

### [上一节：并发编程](1.12_Concurrent_programming.md)
